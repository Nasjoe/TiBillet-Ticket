{% extends base_template %}
{% load i18n %}
{% load tibitags %}

{% block main %}
<div class="flex-fill">
    <div class="container-lg py-5">
        <div class="row">
            <div class="col-md-8 offset-md-2 col-xl-6 offset-xl-3">
                <h1>Créer une nouvelle instance</h1>
                <p class="mb-5">
                    Pour créer une instance Lespass et accéder aux outils qui me
                    permettront de gérer mon collectif, il suffit de remplir le
                    formulaire, puis de confirmer mon adresse email.
                </p>
                <form id="linkform" role="form">
                    <div class="form-floating mb-3">
                        <input name="email" type="email" class="form-control" placeholder="adresse@exemple.fr" role="textbox" aria-label="Adresse mail de l'adhéranne" required>
                        <label for="email">Addresse mail</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input name="emailConfirmation" type="email" class="form-control" placeholder="adresse@exemple.fr" role="textbox" aria-label="Confirmation de l'adresse email" required>
                        <label for="emailConfirmation">Confirmation de l'email</label>
                    </div>
                    {% include 'reunion/partials/field_errors.html' %}
                    <p class="form-text">Le mail sera utilisé pour <strong>le compte d'administration</strong> de l'instance.</p>
                    
                    <div class="row">
                        <div class="col">
                            <div class="form-floating mb-3">
                                <input name="name" type="text" class="form-control" placeholder="Jaz" role="textbox" aria-label="Prénom de l'adhéranne" required>
                                <label for="name">Nom du collectif</label>
                            </div>
                        </div>
                    </div>
                    {% include 'reunion/partials/field_errors.html' %}
    
                    <div class="form-check form-switch mt-5 mb-3">
                        <input class="form-check-input" type="checkbox" role="switch" name="laboutik" id="laboutik">
                        <label class="form-check-label" for="laboutik">
                            Je veux utiliser
                            <a href="https://tibillet.org/docs/category/cashless/">
                                les caisses enregistreuses LaBoutik
                            </a>
                        </label>
                    </div>
                    <div class="form-check form-switch mb-5">
                        <input class="form-check-input" type="checkbox" role="switch" name="cgu" id="cgu" required>
                        <label class="form-check-label" for="cgu">
                            J'accepte <a href="https://tibillet.org/cgucgv/">les conditions d'utilisation</a>
                        </label>
                    </div>
                    {% include 'reunion/partials/field_errors.html' %}

                    <p>
                        Choix du nom de domaine
                    </p>
                    <div class="d-flex flex-row justify-content-start align-items-start mb-5 has-validation">
                        <div class="form-check me-3">
                            <input class="form-check-input" type="radio"
                                   name="dns_choice"
                                   id="options-radio-coop"
                                   value="tibillet.coop">
                            <label class="custom-control-label ms-0"
                                   for="options-radio-coop">
                                tibillet.coop
                            </label>
                        </div>
                        <div class="form-check me-3">
                            <input class="form-check-input" type="radio"
                                   name="dns_choice"
                                   id="options-radio-re"
                                   value="tibillet.re">
                            <label class="custom-control-label ms-0"
                                   for="options-radio-re">
                                tibillet.re
                            </label>
                        </div>
                    </div>
                    
                    <input type="hidden" name="qrcode_uuid" value="{{ qrcode_uuid }}">
                    <button type="button"
                            class="btn btn-primary w-100 mb-3 test-return-validate-link-card"
                            hx-post="/tenant/onboard_stripe/"
                            hx-indicator="#tibillet-spinner"
                    >{% translate "Confirmer" %}
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
